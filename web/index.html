<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>BEENOS1dayインターン</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>

<body>

<ul class="images">
</ul>

</body>
<script>
  $.ajax({
    type: 'GET',
    url: 'https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=f913b553246aad175192dbccb8da54f2&text=cat&format=json&nojsoncallback=1&auth_token=72157661973556790-24dd355c9fb38c21&api_sig=ab81a768e7d010aa70a879f1a679f6e7',
    dataType: 'json',
    success: function (data) {
//取得成功したら実行する処理
      console.log("ファイルの取得に成功しました");
      // console.log(data);
      // console.log(data.photos.photo);

      var photos = data.photos.photo;

      $.each(photos, function(i, val) {

        // 取得したJSONのデータからURLを作成
        var imgUrl = "http://farm";
        imgUrl += val.farm;
        imgUrl += ".staticflickr.com/";
        imgUrl += val.server;
        imgUrl += "/";
        imgUrl += val.id;
        imgUrl += "_";
        imgUrl += val.secret;
        imgUrl += ".jpg";

        // HTMLに要素を追加
        $(".images").append("<li><img src=" + imgUrl + "></li>");

        // console.log(imgUrl);
      });
    },
    error: function () {
//取得失敗時に実行する処理
      console.log("何らかの理由で失敗しました");
    }
  });

</script>
</html>